import { Implementation, Preview, Display, TechnologyUsed, Wrapper, Header, ImportsWrapper } from "@/components/mdx/MDXServerImports"
import { CodeBlock, ResizableDisplay } from "@/components/mdx/MDXClientImports"

export const Data = {
    name: "Default File Upload Button",
    tags: [],
    description: "This is a default file upload button that can be used to upload files. It has getFiles function that can be used to get the files that are uploaded and thus you don't have to manually handle anything. It is accessible and can be used with any other button component.",
    version_included: "0.2.0",
    display: true
}

<Wrapper>

<ImportsWrapper>
import {FileUploadButtonImplementation} from "@/packages/primitives/file-upload-button/FileUploadBtn_01"

</ImportsWrapper>

<Header />
<Preview> 

<Display>
<FileUploadButtonImplementation/>
</Display>

</Preview>

<Implementation>


<TechnologyUsed technologies={[ "tailwind-css" , "twMerge", "react-aria" ]}/>

<CodeBlock> 
```tsx|FileUploadButton
"use client";

import { useState } from "react";
import { FileTrigger, FileTriggerProps } from "react-aria-components";
import { Button } from "../buttons/Button_1";

interface FileUploadButtonProps extends FileTriggerProps {
  className?: string;
  getFiles?: (files: File[]) => void;
  variant?:
    | "primary"
    | "secondary"
    | "accent"
    | "destructive"
    | "outline"
    | "ghost";
}
export function FileUploadButton({
  className,
  children,
  getFiles,
  variant = "primary",
  ...props
}: FileUploadButtonProps) {
  function handleFileUpload(e: FileList | null) {
    let files = Array.from(e as FileList);
    getFiles && getFiles(files);
  }

  return (
    <FileTrigger onSelect={(e) => handleFileUpload(e)} {...props}>
      <Button className={className} variant={variant}>
        {children}
      </Button>
    </FileTrigger>
  );
}

```
```jsx|FileUploadButton
"use client";

import { useState } from "react";
import { FileTrigger, FileTriggerProps } from "react-aria-components";
import { Button } from "../buttons/Button_1";

export function FileUploadButton({
  className,
  children,
  getFiles,
  variant = "primary",
  ...props
}) {
  function handleFileUpload(e) {
    let files = Array.from(e);
    getFiles && getFiles(files);
  }

  return (
    <FileTrigger onSelect={(e) => handleFileUpload(e)} {...props}>
      <Button className={className} variant={variant}>
        {children}
      </Button>
    </FileTrigger>
  );
}

```

```tsx|Implementation
export function FileUploadButtonImplementation() {
  const [files, setFiles] = useState<File[]>([]);

  return (
    <div className="w-full flex justify-center items-center text-foreground flex-col gap-4">
      <FileUploadButton getFiles={(files) => setFiles(files)} allowsMultiple>
        Upload File
      </FileUploadButton>
      <div className="text-center flex flex-col ">
        <h1 className="text-primary-foreground font-semibold underline underline-offset-1 mb-4">
          Selected Files
        </h1>
        {files.map((file, index) => (
          <span key={file.name + index}>{file.name}</span>
        ))}
      </div>
    </div>
  );
}
```
```jsx|Implementation
export function FileUploadButtonImplementation() {
  const [files, setFiles] = useState([]);

  return (
    <div className="w-full flex justify-center items-center text-foreground flex-col gap-4">
      <FileUploadButton getFiles={(files) => setFiles(files)} allowsMultiple>
        Upload File
      </FileUploadButton>
      <div className="text-center flex flex-col ">
        <h1 className="text-primary-foreground font-semibold underline underline-offset-1 mb-4">
          Selected Files
        </h1>
        {files.map((file, index) => (
          <span key={file.name + index}>{file.name}</span>
        ))}
      </div>
    </div>
  );
}
```
</CodeBlock>


Checkout the default documentation of [React Aria FileTrigger](https://react-spectrum.adobe.com/react-aria/FileTrigger.html)

## FileUploadButton Props

| Name       | Type                                                                                                      | Description                                                                                          |
|------------|-----------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| className  | `string`                                                                                                  | An optional string that defines the CSS class names to apply to the button.                           |
| getFiles   | `(files: File[]) => void`                                                                                 | An optional function that gets called with the selected files when they are uploaded.                 |
| variant    | `"primary" \| "secondary" \| "accent" \| "destructive" \| "outline" \| "ghost"`                           | An optional string that defines the visual style of the button. Defaults to `"primary"`.              |
| ...props   | [`FileTriggerProps`](https://react-spectrum.adobe.com/react-aria/FileTrigger.html)    | Any additional props supported by the `FileTrigger` component from `react-aria-components`.           |


</Implementation>
</Wrapper>