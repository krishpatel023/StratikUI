import React, { Suspense, lazy } from 'react';
import { Implementation, Preview, WrapperToggle, Display, TechnologyUsed, Wrapper, Skeleton, PARTITION, Details, Provider, Title } from "@/components/mdx/MDXServerImports"
import { CodeBlock } from "@/components/mdx/MDXClientImports"

{/*
// ------------------------------------------------------------------------------------
    //	The text below is generated from "@/registry/primitives/header-blocks/01"
//------------------------------------------------------------------------------------
*/}

<Wrapper>
<Title>Default Header Block</Title>
### A set of components for building a navigational header with items and dropdown functionality.

<WrapperToggle >
<Preview>

export const Primitives_header_blocks_01 = lazy(() => import("@registry/packages/primitives/header-blocks/01/default-ts/example"));


<Suspense fallback={<Skeleton className="h-60 rounded-lg" />}>
<Display>
<Primitives_header_blocks_01 />
</Display>
</Suspense>

</Preview>

<Implementation>

undefined
<CodeBlock>

```default|js|example.jsx
import {
  Header,
  HeaderDropdown,
  HeaderItem,
} from "@registry/packages/primitives/header-blocks/01/default-js/HeaderBlocks";

export default function HeaderBlocksImplementation() {
  return (
    <div className="w-full min-h-[25rem] flex flex-col justify-center items-center">
      <Header className="flex justify-center items-center gap-4 h-16 border border-outline px-10 rounded-lg">
        <HeaderItem className="hover:text-accent">Home</HeaderItem>
        <HeaderItem className="hover:text-accent">Pricing</HeaderItem>
        <HeaderItem className="hover:text-accent">
          Products
          <HeaderDropdown className="flex flex-col items-start">
            <span>View Best Sellers</span>
            <span>Electronics</span>
            <span>Clothing</span>
            <span>Books</span>
          </HeaderDropdown>
        </HeaderItem>
        <HeaderItem className="hover:text-accent">
          Services
          <HeaderDropdown className="flex flex-col items-start">
            <span>Web Design</span>
            <span>Web Development</span>
            <span>Mobile Development</span>
            <span>Other Services</span>
          </HeaderDropdown>
        </HeaderItem>
        <HeaderItem className="hover:text-accent">
          About
          <HeaderDropdown className="flex flex-col items-start">
            <span>About Us</span>
            <span>Careers</span>
            <span>Contact Us</span>
          </HeaderDropdown>
        </HeaderItem>
      </Header>
    </div>
  );
}

```

```default|js|HeaderBlocks.jsx
"use client";

import { useEffect, useState } from "react";
import { Button } from "react-aria-components";
import { twMerge } from "tailwind-merge";

export function Header({ className, children, ...props }) {
  return (
    <header className={twMerge("h-full", className)} {...props}>
      {children}
    </header>
  );
}

export function HeaderItem({
  open = false,
  onChange,
  className,
  children,
  onPress,
  onHoverStart,
  onHoverEnd,
  onFocus,
  onBlur,
  ...props
}) {
  const [internalOpen, setInternalOpen] = useState(open);

  
  useEffect(() => {
    onChange?.(internalOpen);
  }, [internalOpen]);

  return (
    <Button
      className={twMerge(
        "relative flex flex-col justify-center text-center items-center gap-4 group/headerItem h-full text-foreground",
        className,
      )}
      {...props}
      data-open={internalOpen}
      onPress={(e) => {
        setInternalOpen(!open);
        onPress?.(e);
      }}
      onHoverStart={(e) => {
        onHoverStart?.(e);
        setInternalOpen(true);
      }}
      onHoverEnd={(e) => {
        onHoverEnd?.(e);
        setInternalOpen(false);
      }}
      onFocus={(e) => {
        onFocus?.(e);
        setInternalOpen(true);
      }}
      onBlur={(e) => {
        onBlur?.(e);
        setInternalOpen(false);
      }}
    >
      {children}
    </Button>
  );
}

export function HeaderDropdown({ className, children, ...props }) {
  return (
    <div className="w-max transition-all duration-300 ease-linear group-data-[open=false]/headerItem:hidden absolute top-full">
      <div
        className={twMerge(
          "bg-primary text-primary-foreground p-4 rounded border border-outline-secondary mt-2",
          className,
        )}
        {...props}
      >
        {children}
      </div>
    </div>
  );
}

```

```default|ts|example.tsx
import {
  Header,
  HeaderDropdown,
  HeaderItem,
} from "@registry/packages/primitives/header-blocks/01/default-ts/HeaderBlocks";

export default function HeaderBlocksImplementation() {
  return (
    <div className="w-full min-h-[25rem] flex flex-col justify-center items-center">
      <Header className="flex justify-center items-center gap-4 h-16 border border-outline px-10 rounded-lg">
        <HeaderItem className="hover:text-accent">Home</HeaderItem>
        <HeaderItem className="hover:text-accent">Pricing</HeaderItem>
        <HeaderItem className="hover:text-accent">
          Products
          <HeaderDropdown className="flex flex-col items-start">
            <span>View Best Sellers</span>
            <span>Electronics</span>
            <span>Clothing</span>
            <span>Books</span>
          </HeaderDropdown>
        </HeaderItem>
        <HeaderItem className="hover:text-accent">
          Services
          <HeaderDropdown className="flex flex-col items-start">
            <span>Web Design</span>
            <span>Web Development</span>
            <span>Mobile Development</span>
            <span>Other Services</span>
          </HeaderDropdown>
        </HeaderItem>
        <HeaderItem className="hover:text-accent">
          About
          <HeaderDropdown className="flex flex-col items-start">
            <span>About Us</span>
            <span>Careers</span>
            <span>Contact Us</span>
          </HeaderDropdown>
        </HeaderItem>
      </Header>
    </div>
  );
}

```

```default|ts|HeaderBlocks.tsx
"use client";

import { type DetailedHTMLProps, type HTMLAttributes, type LegacyRef, useEffect, useState } from "react";
import { Button, type ButtonProps } from "react-aria-components";
import { twMerge } from "tailwind-merge";

export interface HeaderProps extends DetailedHTMLProps<HTMLAttributes<HTMLElement>, HTMLElement> {}

export function Header({ className, children, ...props }: HeaderProps) {
  return (
    <header className={twMerge("h-full", className)} {...props}>
      {children}
    </header>
  );
}

export interface HeaderItemProps extends ButtonProps {
  className?: string;
  open?: boolean;
  onChange?: (open: boolean) => void;
  ref?: LegacyRef<HTMLButtonElement>;
}

export function HeaderItem({
  open = false,
  onChange,
  className,
  children,
  onPress,
  onHoverStart,
  onHoverEnd,
  onFocus,
  onBlur,
  ...props
}: HeaderItemProps) {
  const [internalOpen, setInternalOpen] = useState(open);

  
  useEffect(() => {
    onChange?.(internalOpen);
  }, [internalOpen]);

  return (
    <Button
      className={twMerge(
        "relative flex flex-col justify-center text-center items-center gap-4 group/headerItem h-full text-foreground",
        className,
      )}
      {...props}
      data-open={internalOpen}
      onPress={(e) => {
        setInternalOpen(!open);
        onPress?.(e);
      }}
      onHoverStart={(e) => {
        onHoverStart?.(e);
        setInternalOpen(true);
      }}
      onHoverEnd={(e) => {
        onHoverEnd?.(e);
        setInternalOpen(false);
      }}
      onFocus={(e) => {
        onFocus?.(e);
        setInternalOpen(true);
      }}
      onBlur={(e) => {
        onBlur?.(e);
        setInternalOpen(false);
      }}
    >
      {children}
    </Button>
  );
}

export interface HeaderDropdownProps extends DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement> {}

export function HeaderDropdown({ className, children, ...props }: HeaderDropdownProps) {
  return (
    <div className="w-max transition-all duration-300 ease-linear group-data-[open=false]/headerItem:hidden absolute top-full">
      <div
        className={twMerge(
          "bg-primary text-primary-foreground p-4 rounded border border-outline-secondary mt-2",
          className,
        )}
        {...props}
      >
        {children}
      </div>
    </div>
  );
}

```

</CodeBlock>
<Details>


## Header Props

| Name      | Type                                                          | Default | Description                                                     |
| --------- | ------------------------------------------------------------- | ------- | --------------------------------------------------------------- |
| className | `string`                                                      | -       | Additional CSS classes for custom styling of the header.        |
| children  | `React.ReactNode`                                             | -       | The content inside the `Header` component, typically nav items. |
| ...props  | `DetailedHTMLProps<HTMLAttributes<HTMLElement>, HTMLElement>` | -       | Additional props for the header element.                        |

## HeaderItem Props

| Name         | Type                                               | Default | Description                                                          |
| ------------ | -------------------------------------------------- | ------- | -------------------------------------------------------------------- |
| className    | `string`                                           | -       | Additional CSS classes for custom styling of the header item.        |
| open         | `boolean`                                          | `false` | Initial open state of the header item.                               |
| onChange     | `(open: boolean) => void`                          | -       | Callback function invoked when the open state changes.               |
| ref          | `LegacyRef<HTMLButtonElement>`                     | -       | Ref forwarded to the button element of the header item.              |
| onPress      | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item is pressed.           |
| onHoverStart | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when hovering over the header item starts. |
| onHoverEnd   | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when hovering over the header item ends.   |
| onFocus      | `(e: React.FocusEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item receives focus.       |
| onBlur       | `(e: React.FocusEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item loses focus.          |
| children     | `React.ReactNode`                                  | -       | The content inside the `HeaderItem`, typically text or an icon.      |

## HeaderDropdown Props

| Name      | Type                                                                | Default | Description                                                    |
| --------- | ------------------------------------------------------------------- | ------- | -------------------------------------------------------------- |
| className | `string`                                                            | -       | Additional CSS classes for custom styling of the dropdown.     |
| children  | `React.ReactNode`                                                   | -       | The content inside the `HeaderDropdown`, typically menu items. |
| ...props  | `DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>` | -       | Additional props for the dropdown div element.                 |

</Details>
</Implementation>
</WrapperToggle>
</Wrapper>

{/*
// ------------------------------------------------------------------------------------
    //	The text below is generated from "@/registry/primitives/header-blocks/02"
//------------------------------------------------------------------------------------
*/}

<Wrapper>
<Title>Continuous Header Blocks</Title>
### A set of components for building a navigational header with items and dropdown functionality. This header blocks is continuous which means that the user can scroll from one item to another and the dropdowns will just translate its position rather than closing and reopening.

<WrapperToggle >
<Preview>

export const Primitives_header_blocks_02 = lazy(() => import("@registry/packages/primitives/header-blocks/02/default-ts/example"));


<Suspense fallback={<Skeleton className="h-60 rounded-lg" />}>
<Display>
<Primitives_header_blocks_02 />
</Display>
</Suspense>

</Preview>

<Implementation>

undefined
<CodeBlock>

```default|js|example.jsx
"use client";

import {
  Header,
  HeaderDropdown,
  HeaderItem,
} from "@registry/packages/primitives/header-blocks/02/default-js/HeaderBlocks";
import { useEffect, useRef, useState } from "react";

export default function HeaderBlocksImplementation() {
  const [open, setOpen] = useState(false);
  const [activeIndex, setActiveIndex] = useState(null);

  const nullRef = useRef(null);
  const containerRef = useRef(null);
  const totalChildren = containerRef?.current?.children?.length;

  const nullArray = new Array(totalChildren).fill(nullRef);
  const dropdownRefs = useRef(nullArray);

  const [shiftX, setShiftX] = useState(0);

  const changePosition = () => {
    if (open && activeIndex && containerRef && containerRef.current && dropdownRefs.current[activeIndex]) {
      const outerBoxLength = containerRef.current.getBoundingClientRect();
      const innerBoxLength = dropdownRefs.current[activeIndex]?.getBoundingClientRect();
      if (!innerBoxLength) return;

      setShiftX(innerBoxLength.left + innerBoxLength.width / 2 - outerBoxLength.left);
    }
  };

  
  useEffect(() => {
    changePosition();
  }, [activeIndex]);

  return (
    <div className="w-full min-h-[25rem] flex justify-center items-center">
      <Header
        className="flex justify-center items-center h-16 border border-outline px-10 rounded-lg"
        ref={containerRef}
      >
        <HeaderItem className="hover:text-accent px-2" ref={dropdownRefs.current[0]}>
          Home
        </HeaderItem>
        <HeaderItem className="hover:text-accent px-2" ref={dropdownRefs.current[1]}>
          Pricing
        </HeaderItem>
        <HeaderItem
          className="hover:text-accent px-2"
          ref={dropdownRefs.current[2]}
          onChange={(open) => {
            setOpen(open);
            setActiveIndex(2);
          }}
        >
          Products
          <HeaderDropdown className="flex flex-col items-start" style={{ transform: `translateX(${shiftX}px)` }}>
            <span>View Best Sellers</span>
            <span>Electronics</span>
            <span>Clothing</span>
            <span>Books</span>
          </HeaderDropdown>
        </HeaderItem>
        <HeaderItem
          className="hover:text-accent px-2"
          ref={dropdownRefs.current[3]}
          onChange={(open) => {
            setOpen(open);
            setActiveIndex(3);
          }}
        >
          Services
          <HeaderDropdown className="flex flex-col items-start" style={{ transform: `translateX(${shiftX}px)` }}>
            <span>Web Design</span>
            <span>Web Development</span>
            <span>Mobile Development</span>
            <span>Other Services</span>
          </HeaderDropdown>
        </HeaderItem>
        <HeaderItem
          className="hover:text-accent px-2"
          ref={dropdownRefs.current[4]}
          onChange={(open) => {
            setOpen(open);
            setActiveIndex(4);
          }}
        >
          About
          <HeaderDropdown className="flex flex-col items-start" style={{ transform: `translateX(${shiftX}px)` }}>
            <span>About Us</span>
            <span>Careers</span>
            <span>Contact Us</span>
          </HeaderDropdown>
        </HeaderItem>
      </Header>
    </div>
  );
}

```

```default|js|HeaderBlocks.jsx
"use client";

import { useEffect, useState } from "react";
import { Button } from "react-aria-components";
import { twMerge } from "tailwind-merge";

export function Header({ className, children, ...props }) {
  return (
    <header className={twMerge("h-full", className)} {...props}>
      {children}
    </header>
  );
}

export function HeaderItem({
  open = false,
  onChange,
  className,
  children,
  onPress,
  onHoverStart,
  onHoverEnd,
  onFocus,
  onBlur,
  ...props
}) {
  const [internalOpen, setInternalOpen] = useState(open);

  
  useEffect(() => {
    onChange?.(internalOpen);
  }, [internalOpen]);

  return (
    <Button
      className={twMerge(
        "relative flex flex-col justify-center text-center items-center gap-4 group/headerItem h-full text-foreground",
        className,
      )}
      {...props}
      data-open={internalOpen}
      onPress={(e) => {
        setInternalOpen(!open);
        onPress?.(e);
      }}
      onHoverStart={(e) => {
        onHoverStart?.(e);
        setInternalOpen(true);
      }}
      onHoverEnd={(e) => {
        onHoverEnd?.(e);
        setInternalOpen(false);
      }}
      onFocus={(e) => {
        onFocus?.(e);
        setInternalOpen(true);
      }}
      onBlur={(e) => {
        onBlur?.(e);
        setInternalOpen(false);
      }}
    >
      {children}
    </Button>
  );
}

export function HeaderDropdown({ className, children, ...props }) {
  return (
    <div className="w-max transition-all duration-300 ease-linear group-data-[open=false]/headerItem:hidden absolute top-full">
      <div
        className={twMerge(
          "bg-primary text-primary-foreground p-4 rounded border border-outline-secondary mt-2",
          className,
        )}
        {...props}
      >
        {children}
      </div>
    </div>
  );
}

```

```default|ts|example.tsx
"use client";

import { type LegacyRef, useEffect, useRef, useState } from "react";
import {
  Header,
  HeaderDropdown,
  HeaderItem,
} from "@registry/packages/primitives/header-blocks/02/default-ts/HeaderBlocks";

export default function HeaderBlocksImplementation() {
  const [open, setOpen] = useState(false);
  const [activeIndex, setActiveIndex] = useState<number | null>(null);

  const nullRef = useRef(null);
  const containerRef = useRef<HTMLDivElement | null>(null);
  const totalChildren = containerRef?.current?.children?.length;

  const nullArray = new Array(totalChildren).fill(nullRef);
  const dropdownRefs = useRef<(HTMLElement | null)[]>(nullArray);

  const [shiftX, setShiftX] = useState(0);

  const changePosition = () => {
    if (open && activeIndex && containerRef && containerRef.current && dropdownRefs.current[activeIndex]) {
      const outerBoxLength = containerRef.current.getBoundingClientRect();
      const innerBoxLength = dropdownRefs.current[activeIndex]?.getBoundingClientRect();
      if (!innerBoxLength) return;

      setShiftX(innerBoxLength.left + innerBoxLength.width / 2 - outerBoxLength.left);
    }
  };

  
  useEffect(() => {
    changePosition();
  }, [activeIndex]);

  return (
    <div className="w-full min-h-[25rem] flex justify-center items-center">
      <Header
        className="flex justify-center items-center h-16 border border-outline px-10 rounded-lg"
        ref={containerRef}
      >
        <HeaderItem className="hover:text-accent px-2" ref={dropdownRefs.current[0] as LegacyRef<HTMLButtonElement>}>
          Home
        </HeaderItem>
        <HeaderItem className="hover:text-accent px-2" ref={dropdownRefs.current[1] as LegacyRef<HTMLButtonElement>}>
          Pricing
        </HeaderItem>
        <HeaderItem
          className="hover:text-accent px-2"
          ref={dropdownRefs.current[2] as LegacyRef<HTMLButtonElement>}
          onChange={(open) => {
            setOpen(open);
            setActiveIndex(2);
          }}
        >
          Products
          <HeaderDropdown className="flex flex-col items-start" style={{ transform: `translateX(${shiftX}px)` }}>
            <span>View Best Sellers</span>
            <span>Electronics</span>
            <span>Clothing</span>
            <span>Books</span>
          </HeaderDropdown>
        </HeaderItem>
        <HeaderItem
          className="hover:text-accent px-2"
          ref={dropdownRefs.current[3] as LegacyRef<HTMLButtonElement>}
          onChange={(open) => {
            setOpen(open);
            setActiveIndex(3);
          }}
        >
          Services
          <HeaderDropdown className="flex flex-col items-start" style={{ transform: `translateX(${shiftX}px)` }}>
            <span>Web Design</span>
            <span>Web Development</span>
            <span>Mobile Development</span>
            <span>Other Services</span>
          </HeaderDropdown>
        </HeaderItem>
        <HeaderItem
          className="hover:text-accent px-2"
          ref={dropdownRefs.current[4] as LegacyRef<HTMLButtonElement>}
          onChange={(open) => {
            setOpen(open);
            setActiveIndex(4);
          }}
        >
          About
          <HeaderDropdown className="flex flex-col items-start" style={{ transform: `translateX(${shiftX}px)` }}>
            <span>About Us</span>
            <span>Careers</span>
            <span>Contact Us</span>
          </HeaderDropdown>
        </HeaderItem>
      </Header>
    </div>
  );
}

```

```default|ts|HeaderBlocks.tsx
"use client";

import { type DetailedHTMLProps, type HTMLAttributes, type LegacyRef, useEffect, useState } from "react";
import { Button, type ButtonProps } from "react-aria-components";
import { twMerge } from "tailwind-merge";

export interface HeaderProps extends DetailedHTMLProps<HTMLAttributes<HTMLElement>, HTMLElement> {}

export function Header({ className, children, ...props }: HeaderProps) {
  return (
    <header className={twMerge("h-full", className)} {...props}>
      {children}
    </header>
  );
}

export interface HeaderItemProps extends ButtonProps {
  className?: string;
  open?: boolean;
  onChange?: (open: boolean) => void;
  ref?: LegacyRef<HTMLButtonElement>;
}

export function HeaderItem({
  open = false,
  onChange,
  className,
  children,
  onPress,
  onHoverStart,
  onHoverEnd,
  onFocus,
  onBlur,
  ...props
}: HeaderItemProps) {
  const [internalOpen, setInternalOpen] = useState(open);

  
  useEffect(() => {
    onChange?.(internalOpen);
  }, [internalOpen]);

  return (
    <Button
      className={twMerge(
        "relative flex flex-col justify-center text-center items-center gap-4 group/headerItem h-full text-foreground",
        className,
      )}
      {...props}
      data-open={internalOpen}
      onPress={(e) => {
        setInternalOpen(!open);
        onPress?.(e);
      }}
      onHoverStart={(e) => {
        onHoverStart?.(e);
        setInternalOpen(true);
      }}
      onHoverEnd={(e) => {
        onHoverEnd?.(e);
        setInternalOpen(false);
      }}
      onFocus={(e) => {
        onFocus?.(e);
        setInternalOpen(true);
      }}
      onBlur={(e) => {
        onBlur?.(e);
        setInternalOpen(false);
      }}
    >
      {children}
    </Button>
  );
}

export interface HeaderDropdownProps extends DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement> {}

export function HeaderDropdown({ className, children, ...props }: HeaderDropdownProps) {
  return (
    <div className="w-max transition-all duration-300 ease-linear group-data-[open=false]/headerItem:hidden absolute top-full">
      <div
        className={twMerge(
          "bg-primary text-primary-foreground p-4 rounded border border-outline-secondary mt-2",
          className,
        )}
        {...props}
      >
        {children}
      </div>
    </div>
  );
}

```

</CodeBlock>
<Details>


## Header Props

| Name      | Type                                                          | Default | Description                                                     |
| --------- | ------------------------------------------------------------- | ------- | --------------------------------------------------------------- |
| className | `string`                                                      | -       | Additional CSS classes for custom styling of the header.        |
| children  | `React.ReactNode`                                             | -       | The content inside the `Header` component, typically nav items. |
| ...props  | `DetailedHTMLProps<HTMLAttributes<HTMLElement>, HTMLElement>` | -       | Additional props for the header element.                        |

## HeaderItem Props

| Name         | Type                                               | Default | Description                                                          |
| ------------ | -------------------------------------------------- | ------- | -------------------------------------------------------------------- |
| className    | `string`                                           | -       | Additional CSS classes for custom styling of the header item.        |
| open         | `boolean`                                          | `false` | Initial open state of the header item.                               |
| onChange     | `(open: boolean) => void`                          | -       | Callback function invoked when the open state changes.               |
| ref          | `LegacyRef<HTMLButtonElement>`                     | -       | Ref forwarded to the button element of the header item.              |
| onPress      | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item is pressed.           |
| onHoverStart | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when hovering over the header item starts. |
| onHoverEnd   | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when hovering over the header item ends.   |
| onFocus      | `(e: React.FocusEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item receives focus.       |
| onBlur       | `(e: React.FocusEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item loses focus.          |
| children     | `React.ReactNode`                                  | -       | The content inside the `HeaderItem`, typically text or an icon.      |

## HeaderDropdown Props

| Name      | Type                                                                | Default | Description                                                    |
| --------- | ------------------------------------------------------------------- | ------- | -------------------------------------------------------------- |
| className | `string`                                                            | -       | Additional CSS classes for custom styling of the dropdown.     |
| children  | `React.ReactNode`                                                   | -       | The content inside the `HeaderDropdown`, typically menu items. |
| ...props  | `DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>` | -       | Additional props for the dropdown div element.                 |

</Details>
</Implementation>
</WrapperToggle>
</Wrapper>

{/*
// ------------------------------------------------------------------------------------
    //	The text below is generated from "@/registry/primitives/header-blocks/03"
//------------------------------------------------------------------------------------
*/}

<Wrapper>
<Title>Continuous Header Blocks with Animation</Title>
### A set of components for building a navigational header with items and dropdown functionality, including animations. This is similar to the header blocks of above but with animations.

<WrapperToggle >
<Preview>

export const Primitives_header_blocks_03 = lazy(() => import("@registry/packages/primitives/header-blocks/03/default-ts/example"));


<Suspense fallback={<Skeleton className="h-60 rounded-lg" />}>
<Display>
<Primitives_header_blocks_03 />
</Display>
</Suspense>

</Preview>

<Implementation>

undefined
<CodeBlock>

```default|js|example.jsx
"use client";

import { useState } from "react";
import {
  Header,
  HeaderAnimationWrapper,
  HeaderDropdown,
  HeaderItem,
} from "@registry/packages/primitives/header-blocks/03/default-js/HeaderBlocks";

export default function HeaderBlocksImplementation() {
  const [open, setOpen] = useState(false);
  const [isMouseOver, setIsMouseOver] = useState(false);
  const [activeIndex, setActiveIndex] = useState(null);
  const [prevActiveIndex, setPrevActiveIndex] = useState(null);

  const [openCounter, setOpenCounter] = useState(Array.from({ length: 5 }).fill(false));

  const handleIndexChange = (index, open) => {
    if (open) {
      setPrevActiveIndex(activeIndex);
      setActiveIndex(index);
      const newOpenCounter = openCounter;
      newOpenCounter[index] = open;
      setOpenCounter(newOpenCounter);
      setOpen(true);
    } else {
      const newOpenCounter = openCounter;
      newOpenCounter[index] = open;
      setOpenCounter(newOpenCounter);
      if (newOpenCounter.every((el) => el === false)) {
        if (isMouseOver) return;
        setOpen(false);
      }
    }
  };

  return (
    <div className="w-full min-h-[25rem] flex justify-center items-center ">
      <Header
        className="flex justify-center items-center h-16 border border-outline px-10 rounded-lg"
        onMouseLeave={() => setOpen(false)}
      >
        <HeaderAnimationWrapper
          activeIndex={activeIndex}
          prevActiveIndex={prevActiveIndex}
          open={open}
          onMouseLeave={() => {
            setIsMouseOver(false);
            handleIndexChange(0, false);
          }}
          onMouseEnter={() => {
            setIsMouseOver(true);
          }}
        >
          <HeaderItem className="hover:text-accent px-2" onChange={(open) => handleIndexChange(0, open)}>
            Home
          </HeaderItem>
          <HeaderItem className="hover:text-accent px-2" onChange={(open) => handleIndexChange(1, open)}>
            Pricing
          </HeaderItem>
          <HeaderItem className="hover:text-accent px-2" onChange={(open) => handleIndexChange(2, open)}>
            Products
            <HeaderDropdown className="flex flex-col items-start">
              <span>View Best Sellers</span>
              <span>Electronics</span>
              <span>Clothing</span>
              <span>Books</span>
            </HeaderDropdown>
          </HeaderItem>
          <HeaderItem
            className="hover:text-accent px-2"
            onChange={(open) => {
              handleIndexChange(3, open);
            }}
          >
            Services
            <HeaderDropdown className="flex flex-col items-start">
              <span>Web Design</span>
              <span>Web Development</span>
              <span>Mobile Development</span>
              <span>Other Services</span>
            </HeaderDropdown>
          </HeaderItem>
          <HeaderItem className="hover:text-accent px-2" onChange={(open) => handleIndexChange(4, open)}>
            About
            <HeaderDropdown className="flex flex-col items-start">
              <span>About Us</span>
              <span>Careers</span>
              <span>Contact Us</span>
            </HeaderDropdown>
          </HeaderItem>
        </HeaderAnimationWrapper>
      </Header>
    </div>
  );
}

```

```default|js|HeaderBlocks.jsx
"use client";
import { motion } from "framer-motion";
import React, { forwardRef, useEffect, useRef, useState } from "react";
import { Button } from "react-aria-components";
import { twMerge } from "tailwind-merge";

export function Header({ className, children, ...props }) {
  return (
    <header className={twMerge("h-full", className)} {...props}>
      {children}
    </header>
  );
}

function useExtractHeaderDropdowns(children) {
  const dropdowns = [];
  const dropdownRefs = useRef(Array.isArray(children) ? new Array(children.length).fill({ current: null }) : []);

  const newChildren = React.Children.map(children, (child, index) => {
    if (React.isValidElement(child) && child.type === HeaderItem) {
      let dropdownFound = false;
      let extractedDropdown = null;

      const newHeaderItem = React.cloneElement(
        child,
        {},
        React.Children.map(child.props.children, (subChild) => {
          if (React.isValidElement(subChild) && subChild.type === HeaderDropdown) {
            extractedDropdown = subChild;
            dropdownFound = true;
            return null;
          }
          return subChild;
        }),
      );

      dropdowns.push(extractedDropdown); // This will be null if no dropdown was found

      return React.cloneElement(newHeaderItem, {
        key: index,
        ref: (el) => {
          if (dropdownRefs.current) {
            dropdownRefs.current[index] = el;
          }
        },
      });
    }
    return child;
  });

  return [newChildren, dropdowns, dropdownRefs];
}

export function HeaderAnimationWrapper({ className, children, activeIndex, prevActiveIndex, open, ...props }) {
  const [newChildren, dropdown, dropdownRefs] = useExtractHeaderDropdowns(children);

  const containerRef = useRef(null);

  const [shiftX, setShiftX] = useState(0);
  const [prevShiftX, setPrevShiftX] = useState(0);

  const changePosition = () => {
    if (open && activeIndex && containerRef && containerRef.current && dropdownRefs?.current[activeIndex]) {
      const outerBoxLength = containerRef.current.getBoundingClientRect();
      const innerBoxLength = dropdownRefs.current[activeIndex]?.getBoundingClientRect();
      if (!innerBoxLength) return;

      const val = innerBoxLength.left + innerBoxLength.width / 2 - outerBoxLength.left;

      setShiftX(val);
      if (!prevShiftX) setPrevShiftX(val);
    }
  };

  
  useEffect(() => {
    setPrevShiftX(shiftX);
    changePosition();
    if (!activeIndex) setPrevShiftX(0);
  }, [activeIndex]);

  return (
    <div
      ref={containerRef}
      className={twMerge("h-full w-max flex justify-center items-center gap-2 relative", className)}
      {...props}
    >
      {newChildren}
      <>
        {open && activeIndex && dropdown && dropdown[activeIndex] && shiftX !== 0 && prevShiftX !== 0 ? (
          <motion.div
            className="absolute top-full flex left-0 justify-center group/headerItem"
            initial={{ x: prevShiftX }}
            animate={{
              x: shiftX,
              transition: prevActiveIndex
                ? { type: "spring", stiffness: 300, damping: 30 }
                : { duration: 0.5, ease: "easeInOut" },
            }}
          >
            {dropdown[activeIndex]}
          </motion.div>
        ) : null}
      </>
    </div>
  );
}

export const HeaderItem = forwardRef(
  (
    { open = false, onChange, className, children, onPress, onHoverStart, onHoverEnd, onFocus, onBlur, ...props },
    ref,
  ) => {
    const [internalOpen, setInternalOpen] = useState(open);

    
    useEffect(() => {
      onChange?.(internalOpen);
    }, [internalOpen]);

    return (
      <Button
        ref={ref}
        className={twMerge(
          "relative flex flex-col justify-center text-center items-center gap-4 group/headerItem h-full text-foreground",
          className,
        )}
        {...props}
        data-open={internalOpen}
        onPress={(e) => {
          onPress?.(e);
          setInternalOpen(!open);
        }}
        onHoverStart={(e) => {
          onHoverStart?.(e);
          setInternalOpen(true);
        }}
        onHoverEnd={(e) => {
          onHoverEnd?.(e);
          setInternalOpen(false);
        }}
        onFocus={(e) => {
          onFocus?.(e);
          setInternalOpen(true);
        }}
        onBlur={(e) => {
          onBlur?.(e);
          setInternalOpen(false);
        }}
      >
        {children}
      </Button>
    );
  },
);

HeaderItem.displayName = "HeaderItem";

export function HeaderDropdown({ className, children, ...props }) {
  return (
    <div className="w-max transition-all duration-300 ease-linear group-data-[open=false]/headerItem:hidden absolute top-full">
      <div
        className={twMerge("bg-primary text-primary-foreground p-4 rounded border border-outline-secondary", className)}
        {...props}
      >
        {children}
      </div>
    </div>
  );
}

```

```default|ts|example.tsx
"use client";

import { useState } from "react";
import {
  Header,
  HeaderAnimationWrapper,
  HeaderDropdown,
  HeaderItem,
} from "@registry/packages/primitives/header-blocks/03/default-ts/HeaderBlocks";

export default function HeaderBlocksImplementation() {
  const [open, setOpen] = useState(false);
  const [isMouseOver, setIsMouseOver] = useState(false);
  const [activeIndex, setActiveIndex] = useState<number | null>(null);
  const [prevActiveIndex, setPrevActiveIndex] = useState<number | null>(null);

  const [openCounter, setOpenCounter] = useState(Array.from({ length: 5 }).fill(false));
  const handleIndexChange = (index: number, open: boolean) => {
    if (open) {
      setPrevActiveIndex(activeIndex);
      setActiveIndex(index);
      const newOpenCounter = openCounter;
      newOpenCounter[index] = open;
      setOpenCounter(newOpenCounter);
      setOpen(true);
    } else {
      const newOpenCounter = openCounter;
      newOpenCounter[index] = open;
      setOpenCounter(newOpenCounter);
      if (newOpenCounter.every((el) => el === false)) {
        if (isMouseOver) return;
        setOpen(false);
      }
    }
  };

  return (
    <div className="w-full min-h-[25rem] flex justify-center items-center ">
      <Header
        className="flex justify-center items-center h-16 border border-outline px-10 rounded-lg"
        onMouseLeave={() => setOpen(false)}
      >
        <HeaderAnimationWrapper
          activeIndex={activeIndex}
          prevActiveIndex={prevActiveIndex}
          open={open}
          onMouseLeave={() => {
            setIsMouseOver(false);
            handleIndexChange(0, false);
          }}
          onMouseEnter={() => {
            setIsMouseOver(true);
          }}
        >
          <HeaderItem className="hover:text-accent px-2" onChange={(open) => handleIndexChange(0, open)}>
            Home
          </HeaderItem>
          <HeaderItem className="hover:text-accent px-2" onChange={(open) => handleIndexChange(1, open)}>
            Pricing
          </HeaderItem>
          <HeaderItem className="hover:text-accent px-2" onChange={(open) => handleIndexChange(2, open)}>
            Products
            <HeaderDropdown className="flex flex-col items-start">
              <span>View Best Sellers</span>
              <span>Electronics</span>
              <span>Clothing</span>
              <span>Books</span>
            </HeaderDropdown>
          </HeaderItem>
          <HeaderItem
            className="hover:text-accent px-2"
            onChange={(open) => {
              handleIndexChange(3, open);
            }}
          >
            Services
            <HeaderDropdown className="flex flex-col items-start">
              <span>Web Design</span>
              <span>Web Development</span>
              <span>Mobile Development</span>
              <span>Other Services</span>
            </HeaderDropdown>
          </HeaderItem>
          <HeaderItem className="hover:text-accent px-2" onChange={(open) => handleIndexChange(4, open)}>
            About
            <HeaderDropdown className="flex flex-col items-start">
              <span>About Us</span>
              <span>Careers</span>
              <span>Contact Us</span>
            </HeaderDropdown>
          </HeaderItem>
        </HeaderAnimationWrapper>
      </Header>
    </div>
  );
}

```

```default|ts|HeaderBlocks.tsx
"use client";
import { motion } from "framer-motion";
import { type DetailedHTMLProps, forwardRef, type HTMLAttributes, useEffect, useRef, useState } from "react";
import { Button, type ButtonProps } from "react-aria-components";
import { twMerge } from "tailwind-merge";
import React, { type ReactElement } from "react";

export interface HeaderProps extends DetailedHTMLProps<HTMLAttributes<HTMLElement>, HTMLElement> {}

export function Header({ className, children, ...props }: HeaderProps) {
  return (
    <header className={twMerge("h-full", className)} {...props}>
      {children}
    </header>
  );
}

function useExtractHeaderDropdowns(
  children: React.ReactNode,
): [React.ReactNode, (ReactElement | null)[], React.MutableRefObject<(HTMLButtonElement | null)[]>] {
  const dropdowns: (ReactElement | null)[] = [];
  const dropdownRefs = useRef<(HTMLButtonElement | null)[]>(
    Array.isArray(children) ? new Array(children.length).fill({ current: null }) : [],
  );

  const newChildren = React.Children.map(children, (child, index) => {
    if (React.isValidElement(child) && child.type === HeaderItem) {
      let dropdownFound = false;
      let extractedDropdown: ReactElement | null = null;

      const newHeaderItem = React.cloneElement(
        child as ReactElement,
        {},
        React.Children.map(child.props.children, (subChild) => {
          if (React.isValidElement(subChild) && subChild.type === HeaderDropdown) {
            extractedDropdown = subChild;
            dropdownFound = true;
            return null;
          }
          return subChild;
        }),
      );

      dropdowns.push(extractedDropdown); // This will be null if no dropdown was found

      return React.cloneElement(newHeaderItem as ReactElement, {
        key: index,
        ref: (el: HTMLButtonElement) => {
          if (dropdownRefs.current) {
            dropdownRefs.current[index] = el;
          }
        },
      });
    }
    return child;
  });

  return [newChildren, dropdowns, dropdownRefs];
}

export interface HeaderAnimationWrapperProps extends DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement> {
  activeIndex: number | null;
  prevActiveIndex: number | null;
  open: boolean;
}

export function HeaderAnimationWrapper({
  className,
  children,
  activeIndex,
  prevActiveIndex,
  open,
  ...props
}: HeaderAnimationWrapperProps) {
  const [newChildren, dropdown, dropdownRefs] = useExtractHeaderDropdowns(children);

  const containerRef = useRef<HTMLDivElement | null>(null);

  const [shiftX, setShiftX] = useState(0);
  const [prevShiftX, setPrevShiftX] = useState(0);

  const changePosition = () => {
    if (open && activeIndex && containerRef && containerRef.current && dropdownRefs?.current[activeIndex]) {
      const outerBoxLength = containerRef.current.getBoundingClientRect();
      const innerBoxLength = dropdownRefs.current[activeIndex]?.getBoundingClientRect();
      if (!innerBoxLength) return;

      const val = innerBoxLength.left + innerBoxLength.width / 2 - outerBoxLength.left;

      setShiftX(val);
      if (!prevShiftX) setPrevShiftX(val);
    }
  };

  
  useEffect(() => {
    setPrevShiftX(shiftX);
    changePosition();
    if (!activeIndex) setPrevShiftX(0);
  }, [activeIndex]);

  return (
    <div
      ref={containerRef}
      className={twMerge("h-full w-max flex justify-center items-center gap-2 relative", className)}
      {...props}
    >
      {newChildren}
      <>
        {open && activeIndex && dropdown && dropdown[activeIndex] && shiftX !== 0 && prevShiftX !== 0 ? (
          <motion.div
            className="absolute top-full flex left-0 justify-center group/headerItem"
            initial={{ x: prevShiftX }}
            animate={{
              x: shiftX,
              transition: prevActiveIndex
                ? { type: "spring", stiffness: 300, damping: 30 }
                : { duration: 0.5, ease: "easeInOut" },
            }}
          >
            {dropdown[activeIndex]}
          </motion.div>
        ) : null}
      </>
    </div>
  );
}

export interface HeaderItemProps extends ButtonProps {
  className?: string;
  open?: boolean;
  onChange?: (open: boolean) => void;
}

export const HeaderItem = forwardRef<HTMLButtonElement, HeaderItemProps>(
  (
    { open = false, onChange, className, children, onPress, onHoverStart, onHoverEnd, onFocus, onBlur, ...props },
    ref,
  ) => {
    const [internalOpen, setInternalOpen] = useState(open);

    
    useEffect(() => {
      onChange?.(internalOpen);
    }, [internalOpen]);

    return (
      <Button
        ref={ref}
        className={twMerge(
          "relative flex flex-col justify-center text-center items-center gap-4 group/headerItem h-full text-foreground",
          className,
        )}
        {...props}
        data-open={internalOpen}
        onPress={(e) => {
          onPress?.(e);
          setInternalOpen(!open);
        }}
        onHoverStart={(e) => {
          onHoverStart?.(e);
          setInternalOpen(true);
        }}
        onHoverEnd={(e) => {
          onHoverEnd?.(e);
          setInternalOpen(false);
        }}
        onFocus={(e) => {
          onFocus?.(e);
          setInternalOpen(true);
        }}
        onBlur={(e) => {
          onBlur?.(e);
          setInternalOpen(false);
        }}
      >
        {children}
      </Button>
    );
  },
);

HeaderItem.displayName = "HeaderItem";

export interface HeaderDropdownProps extends DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement> {}

export function HeaderDropdown({ className, children, ...props }: HeaderDropdownProps) {
  return (
    <div className="w-max transition-all duration-300 ease-linear group-data-[open=false]/headerItem:hidden absolute top-full">
      <div
        className={twMerge("bg-primary text-primary-foreground p-4 rounded border border-outline-secondary", className)}
        {...props}
      >
        {children}
      </div>
    </div>
  );
}

```

</CodeBlock>
<Details>


## Header Props

| Name      | Type                                                          | Default | Description                                                     |
| --------- | ------------------------------------------------------------- | ------- | --------------------------------------------------------------- |
| className | `string`                                                      | -       | Additional CSS classes for custom styling of the header.        |
| children  | `React.ReactNode`                                             | -       | The content inside the `Header` component, typically nav items. |
| ...props  | `DetailedHTMLProps<HTMLAttributes<HTMLElement>, HTMLElement>` | -       | Additional props for the header element.                        |

## HeaderAnimationWrapper Props

| Name            | Type                                                                | Default | Description                                                                         |
| --------------- | ------------------------------------------------------------------- | ------- | ----------------------------------------------------------------------------------- |
| className       | `string`                                                            | -       | Additional CSS classes for custom styling of the animation wrapper.                 |
| children        | `React.ReactNode`                                                   | -       | The content inside the `HeaderAnimationWrapper`, typically `HeaderItem` components. |
| activeIndex     | `number \| null`                                                    | -       | The index of the currently active header item.                                      |
| prevActiveIndex | `number \| null`                                                    | -       | The index of the previously active header item.                                     |
| open            | `boolean`                                                           | -       | Indicates whether the dropdown is open.                                             |
| ...props        | `DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>` | -       | Additional props for the animation wrapper div element.                             |

## HeaderItem Props

| Name         | Type                                               | Default | Description                                                          |
| ------------ | -------------------------------------------------- | ------- | -------------------------------------------------------------------- |
| className    | `string`                                           | -       | Additional CSS classes for custom styling of the header item.        |
| open         | `boolean`                                          | `false` | Initial open state of the header item.                               |
| onChange     | `(open: boolean) => void`                          | -       | Callback function invoked when the open state changes.               |
| ref          | `LegacyRef<HTMLButtonElement>`                     | -       | Ref forwarded to the button element of the header item.              |
| onPress      | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item is pressed.           |
| onHoverStart | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when hovering over the header item starts. |
| onHoverEnd   | `(e: React.MouseEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when hovering over the header item ends.   |
| onFocus      | `(e: React.FocusEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item receives focus.       |
| onBlur       | `(e: React.FocusEvent<HTMLButtonElement>) => void` | -       | Callback function invoked when the header item loses focus.          |
| children     | `React.ReactNode`                                  | -       | The content inside the `HeaderItem`, typically text or an icon.      |

## HeaderDropdown Props

| Name      | Type                                                                | Default | Description                                                    |
| --------- | ------------------------------------------------------------------- | ------- | -------------------------------------------------------------- |
| className | `string`                                                            | -       | Additional CSS classes for custom styling of the dropdown.     |
| children  | `React.ReactNode`                                                   | -       | The content inside the `HeaderDropdown`, typically menu items. |
| ...props  | `DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>` | -       | Additional props for the dropdown div element.                 |

</Details>
</Implementation>
</WrapperToggle>
</Wrapper>
