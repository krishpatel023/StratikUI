import { Implementation, Preview, Display, TechnologyUsed, Wrapper, Header, ImportsWrapper } from "@/components/mdx/MDXServerImports"
import { CodeBlock, ResizableDisplay } from "@/components/mdx/MDXClientImports"

export const Data = {
    name: "Resizable Partition in a Container",
    tags: [],
    description: "This way you can use Resizable component as a partition resizer. This is just an example of the use cases for this hook. It uses the `useResizable` hook from the library to perform the resizing. This primitive includes helper functions like Container, Handle, etc to make the entire process easy. It also has callback functions that can be used to show different messages to the user based on the current state of the hook.",
    version_included: "0.2.0",
    display: true
}

<Wrapper>

<ImportsWrapper>
import {ResizeImplementation} from "@/packages/primitives/resizable_container/Resizable_2"

</ImportsWrapper>

<Header />
<Preview> 

<Display>
<ResizeImplementation />
</Display>

</Preview>

<Implementation>


<TechnologyUsed technologies={[ "tailwind-css" , "twMerge"  ]}/>

<CodeBlock> 
```tsx|Helper
"use client";

import React from "react";
import { twMerge } from "tailwind-merge";

export const ResizeBoundingElement = ({
  containerRef,
  className,
  children,
}: {
  containerRef: React.RefObject<HTMLDivElement>;
  children: React.ReactNode;
  className?: string;
}) => {
  return (
    <div ref={containerRef} className={twMerge("w-full", className)}>
      {children}
    </div>
  );
};

export const ResizableContainer = ({
  children,
  minWidth,
  minHeight,
  direction,
  handleResize,
  resizableRef,
  className,
}: {
  children: React.ReactNode;
  minWidth: number;
  minHeight: number;
  direction: ("right" | "bottom" | "top" | "left")[];
  className?: string;
  handleResize: (
    e:
      | React.MouseEvent<HTMLDivElement, MouseEvent>
      | React.TouchEvent<HTMLDivElement>,
    direction: "right" | "bottom" | "top" | "left"
  ) => void;
  resizableRef: React.RefObject<HTMLDivElement>;
}) => {
  return (
    <div className="w-max">
      <Handle
        direction="top"
        directionArr={direction}
        handleResize={handleResize}
      />
      <div className="h-full flex">
        <Handle
          direction="left"
          directionArr={direction}
          handleResize={handleResize}
        />
        <div
          ref={resizableRef}
          style={{
            minWidth: `${minWidth}px`,
            minHeight: `${minHeight}px`,
          }}
          className={className}
        >
          {children}
        </div>
        <Handle
          direction="right"
          directionArr={direction}
          handleResize={handleResize}
        />
      </div>
      <Handle
        direction="bottom"
        directionArr={direction}
        handleResize={handleResize}
      />
    </div>
  );
};

export const Handle = ({
  direction,
  directionArr,
  handleResize,
}: {
  direction: "right" | "bottom" | "top" | "left";
  directionArr: ("right" | "bottom" | "top" | "left")[];
  handleResize: (
    e: React.MouseEvent<HTMLDivElement> | React.TouchEvent<HTMLDivElement>,
    directions: "right" | "left" | "top" | "bottom"
  ) => void;
}) => {
  return (
    <>
      {directionArr.includes(direction) && (
        <>
          {(direction === "right" || direction === "left") && (
            <div
              className="w-4 flex justify-center items-center cursor-col-resize z-10"
              aria-label={`Resize ${direction}`}
              onMouseDown={(e) => handleResize(e, direction)}
              onTouchStart={(e) => handleResize(e, direction)}
            >
              <div className="min-h-8 bg-foreground rounded-full min-w-[0.25rem]"></div>
            </div>
          )}
          {(direction === "top" || direction === "bottom") && (
            <div
              className="h-4 flex justify-center items-center cursor-row-resize z-10"
              aria-label={`Resize ${direction}`}
              onMouseDown={(e) => handleResize(e, direction)}
              onTouchStart={(e) => handleResize(e, direction)}
            >
              <div className="min-w-8 bg-foreground rounded-full min-h-[0.25rem]"></div>
            </div>
          )}
        </>
      )}
    </>
  );
};
```
```jsx|Helper
"use client";

import React from "react";
import { twMerge } from "tailwind-merge";

export const ResizeBoundingElement = ({
  containerRef,
  className,
  children,
}) => {
  return (
    <div ref={containerRef} className={twMerge("w-full", className)}>
      {children}
    </div>
  );
};

export const ResizableContainer = ({
  children,
  minWidth,
  minHeight,
  direction,
  handleResize,
  resizableRef,
  className,
}) => {
  return (
    <div className="w-max">
      <Handle
        direction="top"
        directionArr={direction}
        handleResize={handleResize}
      />
      <div className="h-full flex">
        <Handle
          direction="left"
          directionArr={direction}
          handleResize={handleResize}
        />
        <div
          ref={resizableRef}
          style={{
            minWidth: `${minWidth}px`,
            minHeight: `${minHeight}px`,
          }}
          className={className}
        >
          {children}
        </div>
        <Handle
          direction="right"
          directionArr={direction}
          handleResize={handleResize}
        />
      </div>
      <Handle
        direction="bottom"
        directionArr={direction}
        handleResize={handleResize}
      />
    </div>
  );
};

export const Handle = ({
  direction,
  directionArr,
  handleResize,
}) => {
  return (
    <>
      {directionArr.includes(direction) && (
        <>
          {(direction === "right" || direction === "left") && (
            <div
              className="w-4 flex justify-center items-center cursor-col-resize z-10"
              aria-label={`Resize ${direction}`}
              onMouseDown={(e) => handleResize(e, direction)}
              onTouchStart={(e) => handleResize(e, direction)}
            >
              <div className="min-h-8 bg-foreground rounded-full min-w-[0.25rem]"></div>
            </div>
          )}
          {(direction === "top" || direction === "bottom") && (
            <div
              className="h-4 flex justify-center items-center cursor-row-resize z-10"
              aria-label={`Resize ${direction}`}
              onMouseDown={(e) => handleResize(e, direction)}
              onTouchStart={(e) => handleResize(e, direction)}
            >
              <div className="min-w-8 bg-foreground rounded-full min-h-[0.25rem]"></div>
            </div>
          )}
        </>
      )}
    </>
  );
};
```

```tsx|Implementation
"use client";

import { useRef } from "react";
import { ResizableContainer, ResizeBoundingElement } from "./Resizable_Helper";
import useResizable, {
  ResizableOptions,
} from "@/packages/hooks/useResizable/useResizable";

export function ResizeImplementation() {
  const containerRef = useRef<HTMLDivElement>(null);
  const resizableRef = useRef<HTMLDivElement>(null);

  const options: ResizableOptions = {
    minWidth: "100px",
    minHeight: "100px",
    maxWidth: "70%",
    maxHeight: "100%",
    expandBoundingElement: false,
  };

  const { handleResize } = useResizable(containerRef, resizableRef, options);

  return (
    <div className="flex justify-center items-center gap-4 w-full ">
      <ResizeBoundingElement
        containerRef={containerRef}
        className="h-80 w-[35rem] max-w-[35rem] bg-accent flex"
      >
        <ResizableContainer
          minWidth={100}
          minHeight={100}
          direction={["right"]}
          className="h-full bg-secondary"
          handleResize={handleResize}
          resizableRef={resizableRef}
        >
          <div className="text-foreground h-80 text-center flex justify-center items-center">
            <h1>This is a resizable container</h1>
          </div>
        </ResizableContainer>
        <div className="w-full h-full bg-secondary text-secondary-foreground text-center flex justify-center items-center px-2">
          <h1>
            This is not a resizable div but will take the remaining width in the
            container.
          </h1>
        </div>
      </ResizeBoundingElement>
    </div>
  );
}
```
```jsx|Implementation
"use client";

import { useRef } from "react";
import { ResizableContainer, ResizeBoundingElement } from "./Resizable_Helper";
import useResizable, {
  ResizableOptions,
} from "@/packages/hooks/useResizable/useResizable";

export function ResizeImplementation() {
  const containerRef = useRef(null);
  const resizableRef = useRef(null);

  const options: ResizableOptions = {
    minWidth: "100px",
    minHeight: "100px",
    maxWidth: "70%",
    maxHeight: "100%",
    expandBoundingElement: false,
  };

  const { handleResize } = useResizable(containerRef, resizableRef, options);

  return (
    <div className="flex justify-center items-center gap-4 w-full ">
      <ResizeBoundingElement
        containerRef={containerRef}
        className="h-80 w-[35rem] max-w-[35rem] bg-accent flex"
      >
        <ResizableContainer
          minWidth={100}
          minHeight={100}
          direction={["right"]}
          className="h-full bg-secondary"
          handleResize={handleResize}
          resizableRef={resizableRef}
        >
          <div className="text-foreground h-80 text-center flex justify-center items-center">
            <h1>This is a resizable container</h1>
          </div>
        </ResizableContainer>
        <div className="w-full h-full bg-secondary text-secondary-foreground text-center flex justify-center items-center px-2">
          <h1>
            This is not a resizable div but will take the remaining width in the
            container.
          </h1>
        </div>
      </ResizeBoundingElement>
    </div>
  );
}
```
</CodeBlock>

## ResizeBoundingElement Props

| Name          | Type                                                                 | Description                       |
|---------------|----------------------------------------------------------------------|-----------------------------------|
| containerRef  | `React.RefObject<HTMLDivElement>`                                    | Reference to the container div.   |
| children      | `React.ReactNode`                                                    | Elements to be rendered inside.   |
| className     | `string`                                                             | Optional additional class names.  |

## ResizableContainer Props

| Name          | Type                                                                 | Description                                                |
|---------------|----------------------------------------------------------------------|------------------------------------------------------------|
| children      | `React.ReactNode`                                                    | Elements to be rendered inside.                            |
| minWidth      | `number`                                                             | Minimum width of the resizable container.                  |
| minHeight     | `number`                                                             | Minimum height of the resizable container.                 |
| direction     | `("right" \| "bottom" \| "top" \| "left")[]`                         | Array of directions in which resizing is allowed.          |
| className     | `string`                                                             | Optional additional class names.                           |
| handleResize  | `(e: React.MouseEvent<HTMLDivElement, MouseEvent> \| React.TouchEvent<HTMLDivElement>, direction: "right" \| "bottom" \| "top" \| "left") => void` | Function to handle the resize event.                       |
| resizableRef  | `React.RefObject<HTMLDivElement>`                                    | Reference to the resizable container div.                  |

## Handle Props

| Name          | Type                                                                 | Description                                              |
|---------------|----------------------------------------------------------------------|----------------------------------------------------------|
| direction     | `"right" \| "bottom" \| "top" \| "left"`                             | Direction of the resize handle.                          |
| directionArr  | `("right" \| "bottom" \| "top" \| "left")[]`                         | Array of directions in which resizing is allowed.        |
| handleResize  | `(e: React.MouseEvent<HTMLDivElement> \| React.TouchEvent<HTMLDivElement>, directions: "right" \| "left" \| "top" \| "bottom") => void` | Function to handle the resize event.                     |


</Implementation>
</Wrapper>